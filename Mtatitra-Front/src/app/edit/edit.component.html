<app-navbar></app-navbar>
<div class="content">
    <div class="container-fluid">
        <!-- 
 <p>
            Afin de confirmer l'authenticité de votre adresse éléctronique, nous y avons envoyé une code de confirmation. Veuillez vous connecter à votre adresse éléctronique. Sinon, vous ne serez pas aptes à remplir le processus de confirmation.
            <br/>Après l'authentification, vous serez redirigé vers la page suivante :
        </p>
        -->
        <div class="card shadow" data-aos="fade-up" data-aos-duration="1000">
            <ngx-spinner name="edit" bdColor="white" size="medium" color="rgb(239, 18, 51,0.8)" type="ball-triangle-path">
            </ngx-spinner>
            <div class="card-heading">
                <h4>Modifier votre compte MTATITRA</h4>

            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 form">
                        <div align="center" data-aos="fade-up">
                            <img src="/assets/images/signup.svg" class="signupimg2" alt="">
                        </div>
                        <form class="form-signin" [formGroup]="editForm" (ngSubmit)="modifierUser()">
                            <mat-form-field class="formulaire" data-aos="fade-up" data-aos-duration="1000">
                                <mat-label>Nom</mat-label>
                                <input matInput class="formControlName" formControlName="nom" placeholder="Ex. Ratoko">
                            </mat-form-field>
                            <mat-form-field class="formulaire" data-aos="fade-up" data-aos-duration="1000">
                                <mat-label>Prenom</mat-label>
                                <input matInput placeholder="Ex. Behoririka" formControlName="prenom">
                            </mat-form-field>
                            <mat-form-field class="formulaire" data-aos="fade-up" data-aos-duration="1000">
                                <mat-label>Telephone</mat-label>
                                <span matPrefix>+261 &nbsp;</span>
                                <input type="tel" matInput placeholder="33-333-33" formControlName="telephone">
                                <mat-icon matSuffix>mode_edit</mat-icon>
                            </mat-form-field>
                            <mat-form-field class="formulaire" data-aos="fade-up" data-aos-duration="1000">
                                <mat-label>Adresse</mat-label>
                                <input matInput placeholder="Ex. Behoririka" formControlName="adresse">
                            </mat-form-field>
                            <h6>Utiliser votre addresse email valide</h6>
                            <mat-form-field class="produittextarea" data-aos="fade-up" data-aos-duration="1000">
                                <mat-label>Enter votre adresse mail</mat-label>
                                <input matInput placeholder="pat@example.com" [formControl]="email" required formControlName="email">
                                <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error>
                            </mat-form-field>

                            <div class="w-100 d.flex justify-content-center mt-3">
                                <button type="button" class="btn btn-default" (click)="isShow=!isShow" mat-button>Changer mon mot de passe</button>
                            </div>
                            <form [formGroup]="form" data-aos="fade-up" data-aos-duration="1000">
                                <mat-form-field class="formulaire" *ngIf="isShow">
                                    <input matInput [type]="hide ? 'password' : 'text'" placeholder="Enter votre anciens mot de passe" formControlName="oldPassword">
                                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                                </mat-form-field>
                                <mat-form-field class="formulaire" *ngIf="isShow">
                                    <input matInput [type]="hide ? 'password' : 'text'" placeholder="Enter votre mot de passe" formControlName="newPassword">
                                    <mat-error *ngIf="form.controls['newPassword'].invalid">Mot de passe invalide</mat-error>
                                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                                </mat-form-field>
                                <mat-form-field *ngIf="form.controls['newPassword'].valid && isShow" class="formulaire" data-aos="fade-up">
                                    <input matInput [type]="hide ? 'password' : 'text'" placeholder="Confirmer votre mot de passe" formControlName="confirmPassword">
                                    <mat-error *ngIf="form.controls['confirmPassword'].pristine || form.controls['confirmPassword'].errors?.MatchPassword">Password does not match</mat-error>
                                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                                </mat-form-field>
                            </form>
                            <div class="row mt-4">
                                <div class="col-xs-6 col-sm-6 col-lx-6 col-md-6 col-lg-6 mt-4" data-aos="fade-up" data-aos-duration="1000">
                                </div>
                                <div class="col-xs-6 col-sm-6 col-lx-6 col-md-6 col-lg-6" data-aos="fade-up">
                                    <div class="btnnext" align="right">
                                        <button type="submit" mat-button>Modifier</button>
                                    </div>
                                </div>
                            </div>
                        </form>




                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 .d-none .d-md-block .d-lg-none">
                        <div align="center">
                            <img src="/assets/images/signup.svg" class="signupimg" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>